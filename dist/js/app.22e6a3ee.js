(function(t){function e(e){for(var n,u,i=e[0],c=e[1],a=e[2],d=0,h=[];d<i.length;d++)u=i[d],Object.prototype.hasOwnProperty.call(r,u)&&r[u]&&h.push(r[u][0]),r[u]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return o.push.apply(o,a||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(n=!1)}n&&(o.splice(e--,1),t=u(u.s=s[0]))}return t}var n={},r={app:0},o=[];function u(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,u),s.l=!0,s.exports}u.m=t,u.c=n,u.d=function(t,e,s){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(u.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)u.d(s,n,function(e){return t[e]}.bind(null,n));return s},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var a=0;a<i.length;a++)e(i[a]);var l=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1596:function(t,e,s){},"29f9":function(t,e,s){"use strict";var n=s("1596"),r=s.n(n);r.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),r=s("ecee"),o=s("c074"),u=s("ad3d"),i=s("0ff2"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],l=(s("5c0b"),s("2877")),d={},h=Object(l["a"])(d,c,a,!1,null,null,null),p=h.exports,f=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pageContainer"},[s("Autocomplete"),s("Footer")],1)},v=[],g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"searchInput",class:{activeResult:null!==t.currentResult}},[s("Modal",{attrs:{visible:t.isModalOpen},on:{close:function(e){t.isModalOpen=!1}}}),s("div",{staticClass:"inputContainer"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.debouncedSearchQuery,expression:"debouncedSearchQuery"}],staticClass:"productInput",attrs:{type:"text",placeholder:"Please type in a PLU code or productname.",autocomplete:"off"},domProps:{value:t.debouncedSearchQuery},on:{input:function(e){e.target.composing||(t.debouncedSearchQuery=e.target.value)}}})]),null!=t.searchQuery?s("div",{staticClass:"clearButton",on:{click:function(e){return t.clearInput()}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1):t._e()]),t.suggestions.length>0?s("ul",{staticClass:"suggestions"},t._l(t.suggestions,(function(e,n){return s("li",{key:n,class:{highlightedItem:e.id===t.highlightedResult.id,hideItem:e.id<t.highlightedResult.id},on:{click:function(s){return t.selectResult(e.id)},keyup:t.nextItem}},[t._v("\n      "+t._s(e.id)+" - "+t._s(e.name)+" "+t._s(e.type)+" "+t._s(e.attribute))])})),0):t._e(),t.noResultsFound?s("ul",{staticClass:"suggestions"},[s("li",{staticClass:"noResult"},[t._v("\n      No matches found. :(\n    ")])]):t._e(),s("div",{staticClass:"explanation"},[s("span",{on:{click:t.toggleModal}},[s("font-awesome-icon",{attrs:{icon:"question-circle"}}),t._v("\n        How does it work?\n    ")],1)]),s("div",{staticClass:"result"},[s("transition-group",{attrs:{name:"fade",mode:"out-in",appear:"",tag:"div"}},[null!==t.currentResult?s("div",{key:t.currentResult.id,staticClass:"productContainer"},[s("div",{staticClass:"productId"},[t._v(t._s(t.currentResult.id))]),s("div",{staticClass:"productName"},[t._v(t._s(t.currentResult.name)+" "+t._s(t.currentResult.type)+" "+t._s(t.currentResult.attribute))]),s("div",{staticClass:"product"},[s("div",{staticClass:"productPrevious",attrs:{disabled:t.disablePreviousIndex},on:{click:t.showPreviousProduct}},[s("font-awesome-icon",{attrs:{icon:"chevron-left"}})],1),s("div",{staticClass:"productImage"},[s("img",{attrs:{src:t.currentResult.img},on:{error:t.imageUrlAlt}})]),s("div",{staticClass:"productNext",attrs:{disabled:t.disableNextIndex},on:{click:t.showNextProduct}},[s("font-awesome-icon",{attrs:{icon:"chevron-right"}})],1)])]):t._e()])],1)],1)},y=[],b=(s("7514"),s("20d6"),s("6b54"),s("7f7f"),s("6762"),s("2fdb"),s("75fc")),R=(s("55dd"),s("2ef0")),w=s.n(R),_=s("8aa5"),P=s.n(_),C=P.a.initializeApp({apiKey:"AIzaSyBDYQP-QF8MJhrHTWEkd6pV81YPlwh-KG8",authDomain:"lush-scents-plu-tool.firebaseapp.com",databaseURL:"https://lush-scents-plu-tool.firebaseio.com",projectId:"lush-scents-plu-tool",storageBucket:"lush-scents-plu-tool.appspot.com",messagingSenderId:"762138444480",appId:"1:762138444480:web:67c6abfa4af0e3c9f22325",measurementId:"G-DCHTLHHZT7"});P.a.analytics();var I=C.database(),x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[t.visible?s("div",[s("div",{staticClass:"modalMask"},[s("div",{staticClass:"modalWrapper"},[s("div",{staticClass:"modalContainer"},[s("div",{staticClass:"modalHeader"},[s("font-awesome-icon",{staticClass:"icon",attrs:{icon:"times"},on:{click:function(e){return t.$emit("close")}}})],1),s("div",{staticClass:"modalContent"},[s("h2",[t._v("How does it work?")]),s("p",[t._v("Every single item from Lush has its own PLU (Price Look-Up) code. Some employees remember the PLU codes to be able to quickly browse through the system and select the right products."),s("br"),t._v("\n            You can use this tool to search for PLU codes and/or products.")]),s("p",[t._v("Type in a random number or a product name to check the corresponding PLU code.")])])])])])]):t._e()])},k=[],Q={name:"Modal",props:["visible"]},O=Q,j=(s("a583"),Object(l["a"])(O,x,k,!1,null,"25235c1a",null)),M=j.exports,L={name:"Autocomplete",components:{Modal:M},firebase:{products:{source:I.ref("products"),cancelCallback:function(t){console.error(t)}}},data:function(){return{searchQuery:null,currentResult:null,products:[],isModalOpen:!1,highlightedItem:0}},created:function(){var t=this;I.ref("products").once("value",(function(e){t.products=e.val()})),window.addEventListener("keydown",(function(e){switch(e.keyCode){case 27:return t.clearInput();case 37:return t.showPreviousProduct();case 39:return t.showNextProduct()}}))},mounted:function(){document.addEventListener("keyup",this.nextItem)},computed:{sortedProducts:function(){return Object(b["a"])(this.products).sort((function(t,e){return t.id>e.id?1:-1}))},debouncedSearchQuery:{get:function(){return this.searchQuery},set:w.a.debounce((function(t){this.searchQuery=t}),500)},suggestions:function(){var t=this;return this.searchQuery?this.sortedProducts.filter((function(e){return e.name.toLowerCase().includes(t.searchQuery.toLowerCase())||e.id.toString().includes(t.searchQuery.toLowerCase())})):[]},noResultsFound:function(){var t=!!this.searchQuery,e=!this.currentResult,s=this.suggestions.length<1;return t&&e&&s},currentResultIndex:function(){var t=this;return null!==this.searchQuery&&null!==this.currentResult&&this.sortedProducts.findIndex((function(e){return e.id===t.currentResult.id}))},disablePreviousIndex:function(){return null!==this.currentResult&&1===this.currentResult.id},disableNextIndex:function(){if(null===this.currentResult)return!1;var t=this.sortedProducts[this.sortedProducts.length-1];return this.currentResult.id===t.id},highlightedResult:function(){return this.suggestions[this.highlightedItem]}},methods:{toggleModal:function(){this.isModalOpen=!this.isModalOpen},selectResult:function(t){this.currentResult=this.suggestions.find((function(e){return e.id===t})),null!==this.currentResult&&(this.searchQuery="".concat(this.currentResult.id," - ").concat(this.currentResult.name," ").concat(this.currentResult.type))},clearInput:function(){this.searchQuery=null,this.currentResult=null,this.highlightedItem=0},showPreviousProduct:function(){0!==this.currentResultIndex&&null!==this.searchQuery&&(this.currentResult=this.sortedProducts[this.currentResultIndex-1],this.searchQuery="".concat(this.currentResult.id," - ").concat(this.currentResult.name," ").concat(this.currentResult.type))},showNextProduct:function(){this.currentResultIndex!==this.sortedProducts.length-1&&null!==this.searchQuery&&(this.currentResult=this.sortedProducts[this.currentResultIndex+1],this.searchQuery="".concat(this.currentResult.id," - ").concat(this.currentResult.name," ").concat(this.currentResult.type))},nextItem:function(){return 38===event.keyCode&&this.highlightedItem>0?this.highlightedItem--:40===event.keyCode&&(this.highlightedItem=(this.highlightedItem+1)%this.suggestions.length),13===event.keyCode&&this.highlightedItem>=0&&(this.currentResult=this.highlightedResult,null!==this.currentResult&&(this.searchQuery="".concat(this.currentResult.id," - ").concat(this.currentResult.name," ").concat(this.currentResult.type))),!1},imageUrlAlt:function(t){t.target.src="https://lush-scents.co.uk/plu-tool/assets/404notfound.jpg"}},watch:{searchQuery:function(){""===this.searchQuery&&(this.currentResult=null)}}},S=L,U=(s("d6f9"),Object(l["a"])(S,g,y,!1,null,"e1a5a14c",null)),E=U.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer"},[s("span",[t._v("Made with "),s("a",{attrs:{href:"https://instagram.com/lush.scents",target:"_blank"}},[s("font-awesome-icon",{attrs:{icon:"heart"}})],1),t._v(" and plastic free glitter. Pictures and PLU codes courtesy of "),s("a",{attrs:{href:"https://lush.co.uk",target:"_blank"}},[t._v("Lush")]),t._v(".")])])},A=[],F={name:"Footer"},H=F,T=(s("29f9"),Object(l["a"])(H,N,A,!1,null,"6dedada1",null)),$=T.exports,B={name:"Index",components:{Autocomplete:E,Footer:$}},D=B,J=Object(l["a"])(D,m,v,!1,null,null,null),Y=J.exports;n["a"].use(f["a"]);var q=new f["a"]({mode:"history",base:"/",routes:[{path:"/",name:"index",component:Y}]}),z=s("2f62");n["a"].use(z["a"]);var G=new z["a"].Store({state:{},mutations:{},actions:{}});r["c"].add(o["a"]),n["a"].component("font-awesome-icon",u["a"]),n["a"].config.productionTip=!1,new n["a"]({router:q,store:G,VueFire:i["default"],render:function(t){return t(p)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var n=s("e332"),r=s.n(n);r.a},a583:function(t,e,s){"use strict";var n=s("f59d"),r=s.n(n);r.a},b7dd:function(t,e,s){},d6f9:function(t,e,s){"use strict";var n=s("b7dd"),r=s.n(n);r.a},e332:function(t,e,s){},f59d:function(t,e,s){}});
//# sourceMappingURL=app.22e6a3ee.js.map